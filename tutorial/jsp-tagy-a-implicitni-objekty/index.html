<!doctype html><html lang="cs"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes,maximum-scale=2.2,minimum-scale=1"><link rel="icon" type="image/svg+xml" href="../../static/img/favicon.svg"><meta name="author" content="Jiří Satora"><meta name="description" content="V této části tutoriálu si představíme různé typy tagů, které můžeme použít v JSP a také si ukážeme implicitní objekty, které nám jsou v JSP k dispozici."><title>JSP tagy a implicitní objekty | Servlety a JSP - Návod</title><script src="../../static/js/highlight.min.js"></script><script>hljs.highlightAll()</script><script defer="defer" src="../../common.094d85ce485e92e2c2cb.js"></script><script defer="defer" src="../../618.274f04aa314232891610.js"></script><script defer="defer" src="../../tutorial.eb9162178c9dddad389b.js"></script><link href="../../css/style.9befb716022502a8a300.css" rel="stylesheet"></head><body><input type="hidden" id="PATH_TO_ROOT" value="../../"><header id="HeaderContainer" class="header"><div id="Header" class="header__container"><div class="header__content"><a href="../../" class="header__home-link">Servlety a JSP<span class="header__home-link-unimportant-part"> - Návod</span></a> <button id="NavigationToggleButton" class="menu-toggle-button">Otevřít/Zavřít menu<span class="menu-toggle-button__icon"></span></button><nav id="HeaderNavigation" class="header__navigation"><ul><li><a href="../../tutorial/priprava-pro-vyvoj/" class="header__navigation-link header__navigation-link--active">Tutoriál</a></li><li><a href="../../obsah/" class="header__navigation-link">Obsah</a></li><li><a href="../../dalsi-tutorialy/k-cemu-tato-sekce-slouzi/" class="header__navigation-link">Další tutoriály</a></li><li><a href="https://github.com/Jirkasa/servlety-a-jsp-navod" target="_blank" class="header__navigation-link">GitHub</a></li></ul></nav></div></div></header><div class="tutorial-page-layout"><div class="tutorial-page-layout__container"><nav id="TutorialNavigation" class="tutorial-page-layout__navigation-side"><ul class="navigation"><li><a href="../priprava-pro-vyvoj/" class="navigation__link">Příprava pro vývoj</a></li><li><a href="../uvod-do-servletu/" class="navigation__link">Úvod do Servletů</a></li><li><a href="../http-servlet/" class="navigation__link">HTTP Servlet</a></li><li><a href="../sledovani-relace/" class="navigation__link">Sledování relace</a></li><li><a href="../komunikace-mezi-servlety/" class="navigation__link">Komunikace mezi Servlety</a></li><li><a href="../filtry/" class="navigation__link">Filtry</a></li><li><a href="../uvod-do-jsp/" class="navigation__link">Úvod do JSP</a></li><li><a href="../jsp-tagy-a-implicitni-objekty/" class="navigation__link navigation__link--active">JSP tagy a implicitní objekty</a></li><li><a href="../jsp-direktivy/" class="navigation__link">JSP direktivy</a></li><li><a href="../jsp-action-tagy/" class="navigation__link">JSP action tagy</a></li><li><a href="../jsp-custom-tagy/" class="navigation__link">JSP custom tagy</a></li><li><a href="../jsp-expression-language/" class="navigation__link">JSP expression language</a></li><li><a href="../jstl/" class="navigation__link">JSTL</a></li><li><a href="../mvc-vzor/" class="navigation__link">MVC vzor</a></li><li><a href="../struts-framework/" class="navigation__link">Struts framework</a></li><li><a href="../prace-s-databazi/" class="navigation__link">Práce s databází</a></li></ul></nav><main class="tutorial-page-layout__content"><h1 class="heading-primary u-mb-4">JSP tagy a implicitní objekty</h1><p class="paragraph u-mb-4">V minulé části jste se dozvěděli co je to JSP. V této části si představíme různé typy tagů, které v JSP existují a 3 z nich si ukážeme i na příkladu. Ostatní necháme na další části. Kromě toho se tu dozvíte o implicitních objektech, které jsou nám v JSP k dispozici.</p><h2 id="typy-tagu" class="heading-secondary u-mb-2">Typy tagů</h2><p class="paragraph u-mb-4">V JSP existují různé typy tagů, které slouží k různým účelům. Všechny si je představíme a krátce popíšeme.</p><h3 id="comment-tag" class="heading-tertiary u-mb-1">Comment tag</h3><p class="paragraph u-mb-2">Pokud chceme v JSP psát komentáře, tak k tomu můžeme použít comment tag. Začíná na &lt;%-- a končí na --%&gt;.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="language-html">&lt;%-- Toto je komentář. --%&gt;</code></pre></div><h3 id="scriptlet-tag" class="heading-tertiary u-mb-1">Scriplet tag</h3><p class="paragraph u-mb-2">Pro psaní Java kódu se používá scriplet tag. Začíná na &lt;% a končí na %&gt;. Může obsahovat deklarace, příkazy nebo jakýkoliv jiný platný Java kód.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="language-html">&lt;% int x = 19; %&gt;</code></pre></div><h3 id="expression-tag" class="heading-tertiary u-mb-1">Expression tag</h3><p class="paragraph u-mb-2">Pokud chceme na stránku vložit nějakou hodnotu, tak můžeme použít expression tag. Začíná na &lt;%= a končí na %&gt;. Nemusíme tedy ve scriptletech používat out.println.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="language-html">&lt;%= "hodnota" %&gt;</code></pre></div><h3 id="declaration-tag" class="heading-tertiary u-mb-1">Declaration tag</h3><p class="paragraph u-mb-2">Jak jste se v minulé části dozvěděli, JSP se konvertuje na servlet. Pokud v JSP souboru píšeme HTML kód, scriplet tagy a tak podobně, tak vlastně píšeme obsah service metody, kterou bude vygenerovaný servlet mít (v JSP teda obsah _jspService metody, ale na tom nesejde). Pokud namísto toho chceme pro výslednou servlet třídu nadefinovat nějakou metodu nebo vlastnost, tak k tomu můžeme použít declaration tag. Poté tuto metodu nebo vlastnost můžeme používat na různých místech v JSP souboru. Jednoduše nám to umožňuje napsat kód, který se umístí do servlet třídy, ne do service metody. Declaration tag začíná na &lt;%! a končí na %&gt;.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="language-html">&lt;%!
    private int cislo = 0;

    public void zvysCislo() {
        cislo++;
    }
%&gt;</code></pre></div><h3 id="direktiva" class="heading-tertiary u-mb-1">Direktiva</h3><p class="paragraph u-mb-2">Direktivy jsou elementy, které web containeru (Tomcatu) říkají, jak má JSP stránku převést na servlet. Začínají na &lt;%@ a končí na %&gt;. Více se o nich naučíme v další části. Můžeme s jejich pomocí například přidat na stránku kód z jiného souboru.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="language-html">&lt;%@ include file="header.jsp" %&gt;</code></pre></div><h3 id="action-tagy" class="heading-tertiary u-mb-1">Action tagy</h3><p class="paragraph u-mb-2">Action tagy jsou speciální tagy, které nám umožňují do JSP stránky vkládat nějakou specifickou funkcionalitu a ovládat tak její chování. Více se o nich dozvíte v samostatné části. Můžeme například předat request ke zpracování do jiné JSP stránky nebo servletu, jak je to možné pomocí request dispatcheru u klasických servletů.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="language-html">&lt;jsp:forward page="newPage.jsp" /&gt;</code></pre></div><h3 id="custom-tagy" class="heading-tertiary u-mb-1">Custom tagy</h3><p class="paragraph u-mb-4">Pokud chceme, tak si můžeme vytvořit vlastní tagy. Eliminují používání scriplet tagů o oddělují business logiku od JSP stránky. Naučíme se je vytvářet v samostatné části.</p><h2 id="ukazka-pouziti-skriptovacich-tagu" class="heading-secondary u-mb-2">Ukázka použití skriptovacích tagů</h2><p class="paragraph u-mb-2">V této části si ukážeme jen použití skriptovacích tagů. To znamená scriplet, expression a declaration tagu. Založíme si nový projekt a vytvoříme si JSP stránku, kterou můžeme nazvat třeba jako stranka.jsp. Projekt můžete pojmenovat třeba jako skriptovaci-tagy. Po vytvoření každé JSP stránky je vždy potřeba na začátek přidat řádek, který ukazuje následující ukázka. Jedná se o direktivu, která nastavuje, že JSP soubor generuje HTML stránku a hlavně nastavuje kódování na UTF-8. Bez toho by se nám zobrazovali některé znaky špatně.</p><div data-project="1" data-project-name="skriptovaci-tagy" class="u-mb-2"><ul data-project-folders><li data-opened>src<ul><li data-opened>main<ul><li data-java-packages-folder>java</li><li>resources</li><li data-opened>webapp</li></ul></li><li>test<ul><li>java</li><li>resources</li></ul></li></ul></li><li>target</li></ul><pre data-code="pom.xml"><code class="language-xml">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;io.github.jirkasa&lt;/groupId&gt;
    &lt;artifactId&gt;skriptovaci-tagy&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;
    &lt;name&gt;skriptovaci-tagy&lt;/name&gt;

    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
        &lt;java.version&gt;17&lt;/java.version&gt;
        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;4.0.1&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/project&gt;</code></pre><pre data-code="stranka.jsp" data-folder="src/main/webapp" data-active><code class="language-html">&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;</code></pre></div><p class="paragraph u-mb-2">Pro začátek si můžeme vytvořit základní HTML kostru stránky.</p><div data-project="2" data-project-extends="1" class="u-mb-2"><ul data-project-commands><li data-command-open-folder-to-root>src/main/webapp</li></ul><pre data-code="stranka.jsp" data-folder="src/main/webapp" data-active><code class="language-html">&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Skriptovací tagy&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></div><p class="paragraph u-mb-2">Nějak mě nenapadlo, jakým smysluplnějším způsobem si skriptovací tagy vyzkoušet. Proto si zkusíme jen takové blbosti. Začneme se scriplet tagem. Jak jsem psal, tak ten nám umožňuje do stránky vložit Java kód. Řekněme, že z nějakého důvodu chceme pod sebe vypsat desetkrát "Ahoj". Použijeme scriplet tagy a vytvoříme si v Java kódu for cyklus, který tento text postupně vypíše. Následující ukázka ukazuje naši upravenou JSP stránku.</p><div data-project="3" data-project-extends="2" class="u-mb-2"><ul data-project-commands><li data-command-open-folder-to-root>src/main/webapp</li></ul><pre data-code="stranka.jsp" data-folder="src/main/webapp" data-active data-code-highlight="9-11"><code class="language-html">&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Skriptovací tagy&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;% for (int i = 0; i &lt; 10; i++) { %&gt;
        &lt;p&gt;Ahoj&lt;/p&gt;
    &lt;% } %&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></div><p class="paragraph u-mb-2">Po spuštění aplikace a navštívení <a href="http://localhost:8080/skriptovaci-tagy/stranka.jsp" target="_blank" class="link">http://localhost:8080/skriptovaci-tagy/stranka.jsp</a> si můžete výslednou stránku prohlédnout.</p><img src="../../static/img/screenshots/SkriptovaciTagyUkazkaScripletTagu.png" alt="Vypsání stejného textu desetkrát pod sebe použitím scriplet tagů" class="image image--full-width image--with-border u-mb-2"><p class="paragraph u-mb-2">Teď si vyzkoušíme použití expression tagu. Ten slouží k vložení hodnoty z Java kódu na stránku. Na každý řádek k textu vypíšeme navíc ještě číslo řádku. Následující ukázka ukazuje upravený kód.</p><div data-project="4" data-project-extends="3" class="u-mb-2"><ul data-project-commands><li data-command-open-folder-to-root>src/main/webapp</li></ul><pre data-code="stranka.jsp" data-folder="src/main/webapp" data-active data-code-highlight="10"><code class="language-html">&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Skriptovací tagy&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;% for (int i = 0; i &lt; 10; i++) { %&gt;
        &lt;p&gt;Ahoj &lt;%= i+1 %&gt;&lt;/p&gt;
    &lt;% } %&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></div><p class="paragraph u-mb-2">Nyní se nám po otevření stránky na jednotlivé řádky vypíše také číslo řádku.</p><img src="../../static/img/screenshots/SkriptovaciTagyUkazkaExpressionTagu.png" alt="Vypsání čísla řádku pomocí expression tagu" class="image image--full-width image--with-border u-mb-2"><p class="paragraph u-mb-2">Na závěr si ještě vyzkoušíme declaration tag. Nenapadlo mě nic lepšího než vytvořit metodu, která by sloužila k vytvoření textu pro řádek. Jako parametr bychom jí předali číslo a vrátila by vygenerovaný text. Takže to uděláme, metodu si pomocí declaration tagu nadeklarujeme a při generování řádků použijeme. Následující ukázka ukazuje upravený kód.</p><div data-project="5" data-project-extends="4" class="u-mb-2"><ul data-project-commands><li data-command-open-folder-to-root>src/main/webapp</li></ul><pre data-code="stranka.jsp" data-folder="src/main/webapp" data-active data-code-highlight="3-7,17"><code class="language-html">&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;

&lt;%!
private String vytvorTextProRadek(int index) {
    return "Ahoj " + (index + 1);
}
%&gt;

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Skriptovací tagy&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;% for (int i = 0; i &lt; 10; i++) { %&gt;
        &lt;p&gt;&lt;%= vytvorTextProRadek(i) %&gt;&lt;/p&gt;
    &lt;% } %&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></div><p class="paragraph u-mb-4">Výsledná stránka bude vypadat stejně jako předtím, akorát teď používáme k vygenerování textu pro řádek metodu.</p><h2 id="implicitni-objekty" class="heading-secondary u-mb-2">Implicitní objekty</h2><p class="paragraph u-mb-2">V JSP je nám k dispozici 9 implicitních objektů. Tyto objekty jsou vytvářeny web containerem (Tomcatem). Následující tabulka je ukazuje.</p><div class="table-wrapper u-mb-4"><table class="table"><thead><tr><th>Objekt</th><th>Typ</th></tr></thead><tbody><tr><td>out</td><td><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintWriter.html" target="_blank" class="link">PrintWriter</a></td></tr><tr><td>request</td><td><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html" target="_blank" class="link">HttpServletRequest</a></td></tr><tr><td>response</td><td><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletResponse.html" target="_blank" class="link">HttpServletResponse</a></td></tr><tr><td>config</td><td><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletConfig.html" target="_blank" class="link">ServletConfig</a></td></tr><tr><td>application</td><td><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletContext.html" target="_blank" class="link">ServletContext</a></td></tr><tr><td>session</td><td><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpSession.html" target="_blank" class="link">HttpSession</a></td></tr><tr><td>pageContext</td><td><a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/jsp/PageContext.html" target="_blank" class="link">PageContext</a></td></tr><tr><td>page</td><td><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" target="_blank" class="link">Object</a></td></tr><tr><td>exception</td><td><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html" target="_blank" class="link">Throwable</a></td></tr></tbody></table></div><h3 id="objekt-out" class="heading-tertiary u-mb-1">Objekt out</h3><p class="paragraph u-mb-2">Implicitní objekt out je PrintWriter, který můžeme používat stejně jako v servletech. Můžeme s jeho pomocí ve scripletech vypisovat obsah na stránku. Moc bych to ale nedoporučoval dělat.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="no-highlight">&lt;%
    String text = "Ahoj";
    out.println("&lt;p&gt;" + text + "&lt;/p&gt;");
%&gt;</code></pre></div><h3 id="objekt-request" class="heading-tertiary u-mb-1">Objekt request</h3><p class="paragraph u-mb-2">Implicitní objekt request je HttpServletRequest. Můžeme jej používat stejně jako v servletech.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="language-html">&lt;%
    String jmeno = request.getParameter("jmeno");
%&gt;</code></pre></div><h3 id="objekt-response" class="heading-tertiary u-mb-1">Objekt response</h3><p class="paragraph u-mb-2">Implicitní objekt response je HttpServletResponse. Můžeme jej používat stejně jako v servletech.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="language-html">&lt;%
    response.sendRedirect("./stranka2.jsp");
%&gt;</code></pre></div><h3 id="objekt-config" class="heading-tertiary u-mb-1">Objekt config</h3><p class="paragraph u-mb-2">Implicitní objekt config je ServletConfig, který můžeme použít třeba k získání inicializačního parametru z web.xml.</p><div data-code-box data-no-buttons class="u-mb-2"><pre data-code><code class="language-html">&lt;%
    String nadpis = config.getInitParameter("nadpis");
%&gt;</code></pre></div><p class="paragraph u-mb-2">JSP stránky se v souboru web.xml mapují stejně jako servlety, akorát je potřeba namísto elementu servlet-class použít element jsp-file.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code data-code-highlight="3"><code class="language-xml">&lt;servlet&gt;
    &lt;servlet-name&gt;Stranka&lt;/servlet-name&gt;
    &lt;jsp-file&gt;/stranka.jsp&lt;/jsp-file&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;nadpis&lt;/param-name&gt;
        &lt;param-value&gt;Úvod do JSP&lt;/param-value&gt;
    &lt;/init-param&gt;
&lt;/servlet&gt;</code></pre></div><h3 id="objekt-application" class="heading-tertiary u-mb-1">Objekt application</h3><p class="paragraph u-mb-2">Implicitní objekt application je ServletContext, který můžeme použít ke komunikaci s web containerem. Můžeme například získat konfigurační parametr nadefinovaný ve web.xml elementem context-param.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="language-html">&lt;%
    String text = application.getInitParameter("welcome_text");
%&gt;</code></pre></div><h3 id="objekt-session" class="heading-tertiary u-mb-1">Objekt session</h3><p class="paragraph u-mb-2">Implicitní objekt session je HttpSession, který můžeme používat stejně jako v servletech.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="language-html">&lt;%
    session.setAttribute("jmeno", jmeno);
%&gt;</code></pre></div><h3 id="objekt-pagecontext" class="heading-tertiary u-mb-1">Objekt pageContext</h3><p class="paragraph u-mb-1">Implicitní objekt pageContext je typem PageContext třídy. Může být použit k nastavení, získání nebo odstranění atributu z jednoho z následujích rozsahů:</p><ul class="list u-mb-2"><li><b>page</b> - atribut platí pro JSP stránku po dobu životního cyklu aktuálního HTTP requestu</li><li><b>request</b> - atribut platí pro request (v podstatě je to podobné jako page rozsah)</li><li><b>session</b> - atribut platí pro session</li><li><b>application</b> - atribut platí pro celou aplikace (dostaneme se k němu odkudkoliv a je sdílený pro všechny uživatele)</li></ul><p class="paragraph u-mb-2">Následující ukázka ukazuje použití metody setAttribute, které se jako třetí parametr nastavuje, pro jaký scope se má atribut nastavit.</p><div data-code-box data-no-buttons class="u-mb-2"><pre data-code><code class="language-html">&lt;%
    // nastavuje atribut pro JSP stránku, který je platný po dobu životního cyklu aktuálního HTTP requestu
    pageContext.setAttribute("jmeno", "Jiří", PageContext.PAGE_SCOPE);

    // nastavuje atribut pro request (podobné jako page rozsah)
    pageContext.setAttribute("jmeno", "Jiří", PageContext.REQUEST_SCOPE);

    // nastavuje atribut pro session
    pageContext.setAttribute("jmeno", "Jiří", PageContext.SESSION_SCOPE);

    // nastavuje atribut pro celou aplikaci (bude dostupný odkudkoliv a společný pro všechny uživatele)
    pageContext.setAttribute("jmeno", "Jiří", PageContext.APPLICATION_SCOPE);
%&gt;</code></pre></div><p class="paragraph u-mb-4">Objekt pageContext můžeme použít pro více věcí než jen práci s atributy. Co všechno obsahuje za metody si můžete prohlédnout v <a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/jsp/PageContext.html" target="_blank" class="link">dokumentaci</a>. Také se ale podívejte na podtřídu <a href="https://javaee.github.io/javaee-spec/javadocs/javax/servlet/jsp/JspContext.html" target="_blank" class="link">JSPContext</a>, ve které najdete další metody.</p><h3 id="objekt-page" class="heading-tertiary u-mb-1">Objekt page</h3><p class="paragraph u-mb-2">Implicitní objekt page je nastaven jako reference na vygenerovaný servlet a je typu Object. Tento objekt se moc nepoužívá, protože je jednodušší používat klíčové slovo this. Objekt page se totiž musí před použitím castovat na HttpServlet, zatímco klíčové slovo this ne. Následující ukázka ukazuje dva řádky kódu, které dělají stejnou věc. První řádek používá objekt page a druhý klíčové slovo this.</p><div data-code-box data-no-buttons class="u-mb-4"><pre data-code><code class="language-html">&lt;%
    // pokud chceme používat metody HttpServlet třídy, je potřeba objekt castnout
    ((HttpServlet) page).getServletConfig();

    // použití klíčového slova this je o dost jednodušší
    this.getServletConfig();
%&gt;</code></pre></div><h3 id="objekt-exception" class="heading-tertiary u-mb-1">Objekt exception</h3><p class="paragraph u-mb-2">Implicitní objekt exception můžeme použít k vypsání chyby na chybové stránce, jak ukazuje následující ukázka. Chybová stránka se označuje pomocí direktivy page, kde se nastavuje atribut isErrorPage na true.</p><div data-code-box data-no-buttons class="u-mb-2"><pre data-code><code class="language-html">&lt;%@page contentType="text/html" pageEncoding="UTF-8" isErrorPage="true"%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Chyba&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;p&gt;Omlouváme se, bohužel došlo k chybě: &lt;%= exception %&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></div><p class="paragraph u-mb-2">Že se má pro jinou JSP stránku chybová stránka použít, se nastavuje pomocí direktivy page atributem errorPage. Pokud potom v JSP stránce dojde k chybě, tak se nastavená chybová stránka zobrazí.</p><div data-code-box data-no-buttons class="u-mb-6"><pre data-code><code class="language-html">&lt;%@ page errorPage="error.jsp" %&gt;</code></pre></div><p class="paragraph u-mb-4">To je vše, co jsem chtěl v této části popsat. Dozvěděli jste se jaké tagy a implicitní objekty v JSP existují a k čemu slouží. Direktivy a action elementy jsme do podrobna nerozebírali, protože jsou pro ně vyhrazené následující samostatné části.</p><div class="u-text-center"><a href="../jsp-direktivy/" class="button-primary">Pokračovat na další část</a></div></main></div></div><footer class="footer"><div class="footer__content"><p class="footer__text">Tento web vytvořil <a href="https://jirkasa.github.io/" target="_blank" class="footer__link">Jiří Satora</a></p></div></footer></body></html>