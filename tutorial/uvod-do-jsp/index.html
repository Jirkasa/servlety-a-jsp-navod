<!doctype html><html lang="cs"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes,maximum-scale=2.2,minimum-scale=1"><link rel="icon" type="image/svg+xml" href="../../static/img/favicon.svg"><meta name="author" content="Jiří Satora"><meta name="description" content="V této části tutoriálu se dozvíte co je to JSP."><title>Úvod do JSP | Servlety a JSP - Návod</title><script src="../../static/js/highlight.min.js"></script><script>hljs.highlightAll()</script><script defer="defer" src="../../common.094d85ce485e92e2c2cb.js"></script><script defer="defer" src="../../618.274f04aa314232891610.js"></script><script defer="defer" src="../../tutorial.eb9162178c9dddad389b.js"></script><link href="../../css/style.9befb716022502a8a300.css" rel="stylesheet"></head><body><input type="hidden" id="PATH_TO_ROOT" value="../../"><header id="HeaderContainer" class="header"><div id="Header" class="header__container"><div class="header__content"><a href="../../" class="header__home-link">Servlety a JSP<span class="header__home-link-unimportant-part"> - Návod</span></a> <button id="NavigationToggleButton" class="menu-toggle-button">Otevřít/Zavřít menu<span class="menu-toggle-button__icon"></span></button><nav id="HeaderNavigation" class="header__navigation"><ul><li><a href="../../tutorial/priprava-pro-vyvoj/" class="header__navigation-link header__navigation-link--active">Tutoriál</a></li><li><a href="../../obsah/" class="header__navigation-link">Obsah</a></li><li><a href="../../dalsi-tutorialy/k-cemu-tato-sekce-slouzi/" class="header__navigation-link">Další tutoriály</a></li><li><a href="https://github.com/Jirkasa/servlety-a-jsp-navod" target="_blank" class="header__navigation-link">GitHub</a></li></ul></nav></div></div></header><div class="tutorial-page-layout"><div class="tutorial-page-layout__container"><nav id="TutorialNavigation" class="tutorial-page-layout__navigation-side"><ul class="navigation"><li><a href="../priprava-pro-vyvoj/" class="navigation__link">Příprava pro vývoj</a></li><li><a href="../uvod-do-servletu/" class="navigation__link">Úvod do Servletů</a></li><li><a href="../http-servlet/" class="navigation__link">HTTP Servlet</a></li><li><a href="../sledovani-relace/" class="navigation__link">Sledování relace</a></li><li><a href="../komunikace-mezi-servlety/" class="navigation__link">Komunikace mezi Servlety</a></li><li><a href="../filtry/" class="navigation__link">Filtry</a></li><li><a href="../uvod-do-jsp/" class="navigation__link navigation__link--active">Úvod do JSP</a></li><li><a href="../jsp-tagy-a-implicitni-objekty/" class="navigation__link">JSP tagy a implicitní objekty</a></li><li><a href="../jsp-direktivy/" class="navigation__link">JSP direktivy</a></li><li><a href="../jsp-action-tagy/" class="navigation__link">JSP action tagy</a></li><li><a href="../jsp-custom-tagy/" class="navigation__link">JSP custom tagy</a></li><li><a href="../jsp-expression-language/" class="navigation__link">JSP expression language</a></li><li><a href="../jstl/" class="navigation__link">JSTL</a></li><li><a href="../mvc-vzor/" class="navigation__link">MVC vzor</a></li><li><a href="../struts-framework/" class="navigation__link">Struts framework</a></li><li><a href="../prace-s-databazi/" class="navigation__link">Práce s databází</a></li></ul></nav><main class="tutorial-page-layout__content"><h1 class="heading-primary u-mb-4">Úvod do JSP</h1><p class="paragraph u-mb-4">V této části se pustíme do JSP (Java Server Pages). V podstatě se tu jen dozvíte co to je. Více do hloubky to začneme zkoumat až v dalších částech tutoriálu.</p><h2 id="co-je-jsp" class="heading-secondary u-mb-2">Co je JSP</h2><p class="paragraph u-mb-2">JSP je zkratka pro Java Server Pages. Jedná se o technologii z Java EE, stejně jako servlety. Umožňuje kombinovat HTML s Java kódem a můžeme tak jednoduše vytvářet dynamické webové stránky.</p><p class="paragraph u-mb-4">JSP má se servlety mnoho společného, jelikož se ve výsledku jedná také o servlety. JSP soubory jsou totiž JSP containerem konvertovány do servletů než začnou zpracovávat requesty. To co jsme se naučili o servletech pro nás bude užitečné i u JSP. Jedná se vlastně o takový jiný způsob tvorby servletů, který je lepší, pokud chceme dynamicky vytvářet nějakou stránku než třeba zpracovávat nějaký formulář.</p><h2 id="request-response-cyklus" class="heading-secondary u-mb-2">Request-Response cyklus</h2><p class="paragraph u-mb-4">JSP soubory se konvertují na servlety. Můžeme s nimi tedy ze servletů komunikovat prostřednictvím request dispatcheru. Také ale nemusíme klasické servlety vytvářet vůbec a používat jen JSP. Když klient pošle request na JSP stránku, tak se zjistí, zda je JSP stránka již zkonvertována na servlet. Pokud není, tak se nejdříve zkonvertuje (vytvoří se servlet třída). Poté se servlet použije pro zpracování requestu a poslání response (HTML stránky).</p><img src="../../static/img/illustrations/RequestResponseJSPCyklus.svg" alt="request-response JSP cyklus" class="image u-mb-6"><h2 id="kam-ukladat-jsp-soubory" class="heading-secondary u-mb-2">Kam ukládat JSP soubory</h2><p class="paragraph u-mb-4">JSP soubory se na serveru ukládají s koncovkou "jsp" do složky webapp. Pro vše co je ve složce webapp mohou uživatelé provést request a získat to. Tato složka slouží k uložení věcí jako jsou JavaScript soubory, CSS styly, obrázky, a tak podobně. Kromě těchto věcí tam můžeme umístit naše JSP soubory a uživatelé k nim budou mít přístup, aniž bychom něco mapovali v souboru web.xml. To ve většině případů ale nechceme. Alternativa může být ukládat je do podsložky WEB-INF spolu se souborem web.xml. K této složce totiž uživatelé přístup nemají. Až se začneme učit o MVC vzoru, tak to tak uděláme. Prozatím ale budeme JSP soubory ukládat mimo ni, abychom nemuseli mapování řešit.</p><h2 id="struktura-jsp-stranky" class="heading-secondary u-mb-2">Struktura JSP stránky</h2><p class="paragraph u-mb-2">Jak jsem již psal, tak JSP je kombinací HTML a Java kódu. JSP stránka se skládá z HTML tagů a Java kódu uzavřeného speciálními tagy &lt;% a %&gt;. Tomuto kódu se říká scriplety. Kromě scripletů toho JSP podporuje ještě víc a později se s různými typy tagů seznámíme.</p><p class="paragraph u-mb-2">Abychom viděli jak vypadá jednoduchá JSP stránka, založíme si nový Maven projekt a vytvoříme si ji. Projekt můžeme pojmenovat třeba jako "uvod-do-jsp" a ve složce webapp vytvoříme třeba soubor stranka.jsp. Následující ukázka ukazuje kód, který si do tohoto souboru můžete zkopírovat. Zatím nemusíte moc chápat jak to funguje. Jde nám jen o to se podívat, jak vůbec JSP kód vypadá.</p><div data-project="1" data-project-name="uvod-do-jsp" class="u-mb-2"><ul data-project-folders><li data-opened>src<ul><li data-opened>main<ul><li data-java-packages-folder>java</li><li>resources</li><li data-opened>webapp</li></ul></li><li>test<ul><li>java</li><li>resources</li></ul></li></ul></li><li>target</li></ul><pre data-code="pom.xml"><code class="language-xml">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;io.github.jirkasa&lt;/groupId&gt;
    &lt;artifactId&gt;uvod-do-jsp&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;
    &lt;name&gt;uvod-do-jsp&lt;/name&gt;

    &lt;properties&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
        &lt;java.version&gt;17&lt;/java.version&gt;
        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;4.0.1&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/project&gt;</code></pre><pre data-code="stranka.jsp" data-folder="src/main/webapp" data-active><code class="language-html">&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Úvod do JSP&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;JSP stránka&lt;/h1&gt;
    &lt;% for (int i = 1; i &lt;= 5; i++) { %&gt;
    &lt;p&gt;Řádek: &lt;%= i %&gt;.&lt;/p&gt;
    &lt;% } %&gt;
    &lt;br/&gt;
    &lt;p&gt;Datum na serveru: &lt;%= new java.util.Date() %&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></div><p class="paragraph u-mb-2">Jak můžete v předchozí ukázce vidět, tak v JSP kódu můžeme třeba vytvořit for cyklus a vypsat několik elementů pod sebe, aniž bychom je kopírovali, nebo například můžeme vypsat na stránku serverový čas.</p><p class="paragraph u-mb-2">Jelikož máme JSP soubor přímo ve složce webapp (nemáme jej v podsložce WEB-INF), tak se k němu dostaneme i bez mapování ve web.xml. Pokud si otevřete <a href="http://localhost:8080/uvod-do-jsp/stranka.jsp" target="_blank" class="link">http://localhost:8080/uvod-do-jsp/stranka.jsp</a>, tak byste měli vidět stránku, kterou ukazuje následující obrázek.</p><img src="../../static/img/screenshots/JSPStranka.png" alt="Vygenerovaná stránka" class="image image--full-width image--with-border u-mb-6"><p class="paragraph u-mb-4">Tato část byla jen takovým úvodem do JSP. Jen jste se dozvěděli co to JSP je, kde vytvářet JSP soubory a podívali jste se jak zhruba JSP kód vypadá. V příštích částech se o JSP dozvíte víc.</p><div class="u-text-center"><a href="../jsp-tagy-a-implicitni-objekty/" class="button-primary">Pokračovat na další část</a></div></main></div></div><footer class="footer"><div class="footer__content"><p class="footer__text">Tento web vytvořil <a href="https://jirkasa.github.io/" target="_blank" class="footer__link">Jiří Satora</a></p></div></footer></body></html>